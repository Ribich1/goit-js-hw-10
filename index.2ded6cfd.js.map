{"mappings":"YAAA,IACMA,EAAU,wEACVC,EAAU,CAAE,YAAaD,GAG/B,SAASE,IACL,OAAOC,MAAM,GAAkBC,OANvB,sCAMY,aAAmBA,OAARJ,IAAWK,MAAK,SAACC,G,OAAQA,EAAIC,M,IAGhE,SAASC,EAAUC,GACf,OAAON,MAAM,GAAwBC,OAPxB,6CAOY,cAAoBA,OAARK,GAAWR,GAASI,MAAK,SAAAK,G,OAAGA,EAAEH,M,IAAQF,MAAK,SAAAK,G,OAAKA,EAAEC,KAAI,SAAAC,G,OAAMA,EAAGC,G,OAAMR,MAAK,SAAAK,G,OAAGA,EAAE,E,IAIxH,SAASI,EAAgBL,GACrB,OAAON,MAAM,uCAA+CC,OAARK,GAAWR,GAASI,MAAK,SAAAK,G,OAAGA,EAAEH,M,ICQtF,IAAMQ,EAAO,CACTC,SAAUC,SAASC,cAAc,iBACjCC,MAAOF,SAASC,cAAc,cAsBlC,SAASE,EAAgBP,GACrB,MAAO,aAAiBT,OAAJS,EAAI,oB,CAO5B,SAASQ,EAAgBC,GACrBP,EAAKI,MAAMI,mBAAmB,YAAaD,E,CA5B/CpB,IAAcG,MACV,SAACmB,GACG,OAAOA,EAAOC,QAAO,SAACH,EAAQI,G,OAAUJ,GA6BnBK,GAADC,EA7BgDF,GA6B/CC,GAAIE,EAALD,EAAKC,KAClB,kBAAyBzB,OAAPuB,EAAG,MAASvB,OAALyB,EAAK,cAD7C,IAA4BD,EAACD,EAAIE,C,GA7BmD,I,IAElFxB,MA+BF,SAA4BiB,GACxBP,EAAKC,SAASc,UAAYR,C,IA9B9BP,EAAKC,SAASe,iBAAiB,UAE/B,SAAkBC,GACdA,EAAEC,iBACF,IAAMN,EAAKK,EAAEE,OAAOC,MACpB3B,EAAU,GAAMJ,OAAHuB,IAAMtB,KAAKe,GAAiBf,KAAKgB,GAC9CP,EAAgB,GAAMV,OAAHuB,IAAMtB,MAAK,SAAA+B,G,OAWNP,GAAFD,EAXgCQ,GAW9BP,KAAMQ,EAART,EAAQS,YAAaC,EAArBV,EAAqBU,YACpC,OAAsBlC,OAAfyB,EAAK,YAA6DzB,OAAnDiC,EAAY,yCAAmDjC,OAAZkC,EAAY,QADhG,IAA0BV,EAAEC,EAAMQ,EAAaC,C,IAXiBjC,KAAKgB,E,IAGrEP,EAAgB,QAAQT,KAAKkC,QAAQC,KACrChC,EAAU,QAAQH,KAAKkC,QAAQC,KAuB/BtC,IAAcG,KAAKkC,QAAQC,I","sources":["src/cat-api.js","src/index.js"],"sourcesContent":["const URL = \"https://api.thecatapi.com/v1/breeds\";\nconst API_KEY = \"live_fNsbAds8lDJ3wZ0Q6Rd2N00xNBqkZr6YfEu789dp5u3ygpeUPzSw2uVkbGt7frFj\";\nconst options = { 'x-api-key': API_KEY };\nconst URL_byId = \"https://api.thecatapi.com/v1/images/search\";\n\nfunction fetchBreeds() {\n    return fetch(`${URL}?api_key=${API_KEY}`).then((res) => res.json());\n}\n\nfunction getCatImg(breedId) {\n    return fetch(`${URL_byId}?breed_id=${breedId}`, options).then(r=>r.json()).then(r => r.map(ar => ar.url)).then(r=>r[0]);\n};\n\n\nfunction fetchCatByBreed(breedId) {\n    return fetch(`https://api.thecatapi.com/v1/breeds/${breedId}`, options).then(r=>r.json());\n};\n\n\n\n\nexport { fetchBreeds };\nexport { fetchCatByBreed }; \nexport { getCatImg};\n\n","import { fetchBreeds } from \"./cat-api\";\nimport { fetchCatByBreed } from \"./cat-api\";\nimport { getCatImg } from \"./cat-api\";\n\n// fetchBreeds().then(result => getId(result)).then(res => console.log(res));\n// fetchBreeds().then(result => console.log(result));\n\n/*\n1. отримати рефс\n\n2. вішаємо слухач на форму change\nотримати масив порід та записати в селект select.breed-select\nпоки йде запит порід, скрити select.breed-select і показати p.loader\nзарендерити айді породи в значення \n3. отримати запит з інпуту та передати з нього у вигляді квері запит з айді котів на сервер\nпоки йде запит масиву котів, скрити  div.cat-info и показать p.loader\n4. перевірити відподідь серверу, якщо негативна - повідомити користувача\n5. отримаємо результат та перебираємо масив котів і створюємо розмітку в div.cat-info\n6. рендеримо розмітку на веб іннером наприклад або?\n7. обробити помилку в p.error і при списку порід і при пошуку котів по породі\n8. прикрасити інтерфейс \n*/\n\nconst refs = {\n    selectEl: document.querySelector(\".breed-select\"),\n    divEl: document.querySelector(\".cat-info\"),\n}\n\nfetchBreeds().then(\n    (arrays) => {\n        return arrays.reduce((markup, array) => markup + createMarkupSelect(array), \" \");\n    }\n).then(updateMarkupSelect);\n\nrefs.selectEl.addEventListener('change', onChange);\n\nfunction onChange(e) {\n    e.preventDefault();\n    const id = e.target.value;\n    getCatImg(`${id}`).then(createMarkupDiv).then(updateMarkupDiv);\n    fetchCatByBreed(`${id}`).then(arr => createMarkupText(arr)).then(updateMarkupDiv);\n}\n\nfetchCatByBreed('abob').then(console.log);\ngetCatImg('abob').then(console.log);\n\n\nfunction createMarkupDiv(url) {\n    return `<img src=\"${url}\" width=\"520px\"/>`;    \n};\n\nfunction createMarkupText({ name, description, temperament }) {\n    return `<h2>${name}</h2><p>${description}</p><p><strong>Temperament: </strong>${temperament}</p>`;\n};\n\nfunction updateMarkupDiv(markup) {\n    refs.divEl.insertAdjacentHTML(\"beforeend\", markup);\n}\n\nfunction createMarkupSelect({id, name}) {\n        return `<option value=\"${id}\">${name}</option>`;\n};\n\nfunction updateMarkupSelect(markup) {\n    refs.selectEl.innerHTML = markup;\n};\n\nfetchBreeds().then(console.log);"],"names":["$ae0c329fb0fb36dc$var$API_KEY","$ae0c329fb0fb36dc$var$options","$ae0c329fb0fb36dc$export$913382e0b15b5503","fetch","concat","then","res","json","$ae0c329fb0fb36dc$export$4e170162b6a91ac3","breedId","r","map","ar","url","$ae0c329fb0fb36dc$export$57b7d3a597416aa2","$b8f9b7833fa37166$var$refs","selectEl","document","querySelector","divEl","$b8f9b7833fa37166$var$createMarkupDiv","$b8f9b7833fa37166$var$updateMarkupDiv","markup","insertAdjacentHTML","arrays","reduce","array","id","param","name","innerHTML","addEventListener","e","preventDefault","target","value","arr","description","temperament","console","log"],"version":3,"file":"index.2ded6cfd.js.map"}